<html>
<head>
    <meta charset="utf-8">
    <title>Eligibility Slides Framework using React</title>
    <link rel="stylesheet" type="text/css" href="/styles/eligibility/bundle.css">
</head>
<body>
    <div id="elig-slide-content" />
    <script type="text/javascript">
        var slideManagerConfig = {
            firstSlide: 'residentCity',
            slides: [
                {
                    modelKey: 'residentCity',
                    title: 'Where do you live currently?',
                    componentName: 'City',
                    properties: {
                        variant: 'Resident' 
                    }
                },
                {
                    modelKey: 'gender',
                    title: 'My gender',
                    componentName: 'Gender'
                },
                {
                    modelKey: 'propertyCity',
                    title: 'City in which property is based',
                    componentName: 'City',
                    properties: {
                        variant: 'Property' 
                    }
                },
                {
                    modelKey: 'employmentType',
                    title: 'Type of employment',
                    componentName: 'EmploymentType'
                },
                {
                    modelKey: 'purpose',
                    title: 'How would you like to use your home loan?',
                    componentName: 'HomeLoanPurpose'
                },
                {
                    modelKey: 'coAppRelationship',
                    title: 'Who is the co-applicant?',
                    componentName: 'CoAppRelationship'
                },
                {
                    modelKey: 'transactionType',
                    title: 'Type of transaction',
                    componentName: 'LandTransactionType'
                },
                {
                    modelKey: 'sellerDetail',
                    title: 'Who is the seller?',
                    componentName: 'LandSeller'
                },
                {
                    modelKey: 'propertyLocation',
                    title: 'Where is the land?',
                    componentName: 'LandLocation'
                },
                {
                    modelKey: 'propertyDetail',
                    title: 'Tell us about your property',
                    componentName: 'PropertyConstructionType'
                },
                {
                    modelKey: 'employer',
                    title: 'Company I work for',
                    componentName: 'Employer'
                },
                {
                    modelKey: 'joiningDate',
                    title: 'Joining date with your current organisation',
                    componentName: 'WorkExperience'
                },
                {
                    modelKey: 'grossMonthlyIncome',
                    title: 'Gross fixed monthly income',
                    componentName: 'Money',
                    properties: {
                        min: 3000,
                        max: 9999999,
                        step: 1000,
                        tooltip: {
                            text: 'Enter your gross monthly salary as per his/her your monthly payslip before deductions. Include only direct deposit or cheque payments. Exclude payments in hard cash and in-kind components.'
                        }
                    }
                },
                {
                    modelKey: 'annualBonus',
                    title: 'Total annual bonus (optional)',
                    componentName: 'Money',
                    properties: {
                        max: 4 * 'grossMonthlyIncome',  /* TODO: Need to find a way to look into other model */
                        tooltip: {
                            text: 'Enter your annual bonus, if any, excluding any cash component.'
                        }
                    }
                },
                {
                    modelKey: "dob",
                    title: "What's your age (years completed)?",
                    componentName: 'Calendar',
                    properties: {
                        variant: 'DOB'
                    }
                }
            ],
            transitions: [
                    {from: "residentCity",   to: "gender"},
                    {from: "gender",         to: "propertyCity"},
                    {from: "propertyCity",   to: "purpose"},
                    {from: "purpose",        to: "propertyDetail"},
                    {from: "propertyDetail", to: "propertyLocation"},
                    {from: "propertyLocation", to: "sellerDetail"},
                    {from: "sellerDetail", to: "transactionType"},
                    {from: "transactionType", to: "coAppRelationship"},
                    {from: "coAppRelationship",        to: "employmentType"},
                    {from: "employmentType", to: [
                            {target: "joiningDate", guard: function(model, from) {return model['employmentType'] == 'SALARIED' || model['employmentType'] == 'SALARIED_PROFESSIONAL'}},
                            {target: "joiningDate", guard: function(model, from) {return model['employmentType'] == 'SELF_EMPLOYED_BUSINESS' || model['employmentType'] == 'SELF_EMPLOYED_PROFESSIONAL'}},
                            {target: "dob",         guard: function(model, from) {return model['employmentType'] == 'STUDENT' || model['employmentType'] == 'RETIRED' || model['employmentType'] == 'HOMEMAKER'}}
                        ]
                    }
            ]
        };
    </script>
    <script src="/scripts/eligibility/bundle.js" type="text/javascript"></script>
</body>
</html>
