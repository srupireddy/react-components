<html>
<head>
    <meta charset="utf-8">
    <title>Eligibility Slides Framework using React</title>
    <link rel="stylesheet" type="text/css" href="/styles/eligibility/bundle.css">
</head>
<body>
    <div id="elig-slide-content" />
    <script type="text/javascript">
        var slideManagerConfig = {
            firstSlide: 'residentCity',
            slides: [
                {
                    modelKey: 'residentCity',
                    title: 'Where do you live currently?',
                    component: 'City',
                    properties: {
                        variant: 'Resident' 
                    }
                },
                {
                    modelKey: 'gender',
                    title: 'My gender',
                    component: 'Gender'
                },
                {
                    modelKey: 'propertyCity',
                    title: 'City in which property is based',
                    component: 'City',
                    properties: {
                        variant: 'Property' 
                    }
                },
                {
                    modelKey: 'employmentType',
                    title: 'Type of employment',
                    component: 'EmploymentType'
                },
                {
                    modelKey: 'employer',
                    title: 'Company I work for',
                    component: 'Employer'
                },
                {
                    modelKey: 'joiningDate',
                    title: 'Joining date with your current organisation',
                    component: 'WorkExperience'
                },
                {
                    modelKey: 'grossMonthlyIncome',
                    title: 'Gross fixed monthly income',
                    component: 'Income',
                    properties: {
                        min: 3000,
                        max: 9999999,
                        step: 1000,
                        tooltip: {
                            text: 'Enter your gross monthly salary as per his/her your monthly payslip before deductions. Include only direct deposit or cheque payments. Exclude payments in hard cash and in-kind components.'
                        }
                    }
                },
                {
                    modelKey: 'annualBonus',
                    title: 'Total annual bonus (optional)',
                    component: 'Income',
                    properties: {
                        max: 4 * 'grossMonthlyIncome',
                        tooltip: {
                            text: 'Enter your annual bonus, if any, excluding any cash component.'
                        }
                    }
                },
                {
                    modelKey: "dob",
                    title: "What's your age (years completed)?",
                    component: 'Calendar',
                    properties: {
                        variant: 'DOB'
                    }
                }
            ],
            transitions: [
                    {from: "residentCity",   to: "gender"},
                    {from: "gender",         to: "employmentType"},
                    {from: "employmentType", to: "joiningDate", guard: function(model, from) {return model['employmentType'] == 'SALARIED' || model['employmentType'] == 'SALARIED_PROFESSIONAL'}},
                    {from: "employmentType", to: "joiningDate", guard: function(model, from) {return model['employmentType'] == 'SELF_EMPLOYED_BUSINESS' || model['employmentType'] == 'SELF_EMPLOYED_PROFESSIONAL'}},
                    {from: "employmentType", to: "dob", guard: function(model, from) {return model['employmentType'] == 'STUDENT' || model['employmentType'] == 'RETIRED' || model['employmentType'] == 'HOMEMAKER'}},
            ]
        };
    </script>
    <script src="/scripts/eligibility/bundle.js" type="text/javascript"></script>
</body>
</html>
