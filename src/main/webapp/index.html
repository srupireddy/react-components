<html>
<head>
    <meta charset="utf-8">
    <title>Eligibility Slides Framework using React</title>
    <link rel="stylesheet" type="text/css" href="/styles/eligibility/bundle.css">
</head>
<body>
    <div id="elig-slide-content" />
    <script type="text/javascript">
	var slideConfigs = {
	        City: {label:'Where do you live currently?', mapping:'city.name'},
	        Gender: {label:'My gender', mapping:'gender'},
	        Experience: {label:'Your joining date and total work experience', mapping:'joiningDate'},
	        EmploymentType: {label:'Type of employment', mapping:'typeOfEmployment'},
	        Employer: {label: 'Your company name', mapping:'companyIWorkFor.name'},
	        ProfitAfterTax: {label:'Latest year\'s profit after tax'},
	        Salary: {label:'Gross fixed monthly income'},
        	OtherCity: {label: 'Temporary Component'}
	};
	
        var slideTransitionRules = {
            initial: {
                state: "City",
                event: "init",
                defer: "true"
            },
            events: [
                {
                    name: "next",
                    from: "City",
                    to: "Gender"
                },
                {
                    name: "next",
                    from: "Gender",
                    to: "EmploymentType"
                },
                {
                    name: "next",
                    from: "EmploymentType",
                    to: [
                        {
                            guard:function(model, from) {return model[from]=='SALARIED' || model[from]=='SALARIED_PROFESSIONAL';},
                            target:"Experience"
                        },
                        {
                            guard:function(model, from) {return model[from]=='SELF_EMPLOYED_BUSINESS' || model[from]=='SELF_EMPLOYED_PROFESSIONAL';},
                            target:"Salary"
                        },
                        {
                            guard:function(model, from) {return model[from]=='STUDENT' || model[from]=='RETIRED' || model[from] == 'HOMEMAKER';},
                            target:"DOB"
                        }
                    ]
                },
                {
                    name: "next",
                    from: "Experience",
                    to: "Employer"
                },{
                    name: "next",
                    from: "Experience",
                    to: "Salary"
                }
            ]
        }
    </script>
    <script src="/scripts/eligibility/bundle.js" type="text/javascript"></script>
</body>
</html>
