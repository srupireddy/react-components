{
  initial: {
    state: "City",
    event: "init",
    defer: "true"
  },
  transitions: [
    {
      name: "next",
      from: "City",
      to: [
        {
          guard:function(context, model) {return model.isOutsideIndia()},
          target:"ResidenceStatus"
        },
        {
          guard: function() {return !model.isOutsideIndia()},
          target:"Gender"
        }
      ]
    },
    {
      name: "next",
      from: "ResidenceStatus",
      to: "EmploymentType"
    },
    {
      name: "next",
      from: "Gender",
      to: "PropertyCity"
    },
    {
      name: "next",
      from: "PropertyCity",
      to: "EmploymentType"
    },
    {
      name: "next",
      from: "EmploymentType",
      to: [
        {
          guard: function() {return model.isSalaried();},
          target: "Employment"
        },
        {
          guard: function() {return model.isSalariedProfessional()},
          target: "Employment"
        },
        {
          guard: function() {return model.isSelfEmployedBusiness()},
          target: "ProfitAfterTax"
        },
        {
          guard: function() {return model.isSelfEmployedProfessional()},
          target: "ProfitAfterTax"
        },
        {
          guard: function() {return model.isStudent()},
          target: "DOB"
        },
        {
          guard: function() {return model.isRetired()},
          target: "DOB"
        },
        {
          guard: function() {return model.isHomeMaker()},
          target: "DOB"
        }
      ]
    },
    {
      name: "next",
      from: "ProfitAfterTax",
      to: "ExistingEMI"
    },
    {
      name:"next",
      from:"ExistingEMI",
      to:"DOB"
    },
    {
      name:"next",
      from:"Employment",
      to:"WorkExperience"
    },
    {
      name:"next",
      from:"WorkExperience",
      to:"MonthlyIncome"
    },
    {
      name:"next",
      from:"MonthlyIncome",
      to:"AnnualBonus"
    },
    {
      name:"next",
      from:"AnnualBonus",
      to:"AverageMonthlyIncentives"
    },
    {
      name:"next",
      from:"AverageMonthlyIncentives",
      to:"ExistingEMI"
    },
    {
      name:"next",
      from:"DOB",
      to:"PurposeOfLoan"
    },
    {
      name:"next",
      from:"PurposeOfLoan",
      to:[
        {
          guard:function(){return model.isPropertyIdentified()},
          target:"PropertyType"
        },
        {
          guard:function(){return !model.isPropertyIdentified()},
          target:"HasCoapplicant"
        },
        {
          guard:function(){return model.transferExistingLoan()},
          target:"PropertyType"
        }
      ]
    },
    {
      name:"next",
      from:"PropertyType",
      to:[
        {
          guard:function(){return model.isProjectCompleted()},
          target:"Builder"
        },
        {
          guard:function(){return model.isProjectUnderConstruction()},
          target:"Builder"
        },
        {
          guard:function(){return model.isLandOnly()},
          target:"PropertyLocation"
        },
        {
          guard:function(){return model.constructOnOwnLand()},
          target:"LandCost"
        },
        {
          guard:function(){return model.purchaseLandAndConstruct()},
          target:"PropertyLocation"
        }
      ]
    },
    {
      name: "next",
      from: "Builder",
      to:"HomeCost"
    },
    {
      name: "next",
      from: "HomeCost",
      to:"HasCoapplicant"
    },
    {
      name: "next",
      from: "PropertyLocation",
      to:"TransactionType"
    },
    {
      name: "next",
      from: "TransactionType",
      to:"Seller"
    },
    {
      name: "next",
      from: "Seller",
      to:"LandCost"
    },
    {
      name: "next",
      from: "Seller",
      to:"ConstructionCost"
    },
    {
      name: "next",
      from: "ConstructionCost",
      to:"HasCoapplicant"
    },
    {
      name: "next",
      from: "HasCoapplicant",
      to:[
        {
          guard:function(){return model.hasCoapplicant();},
          target:"CoAppRelation"
        },
        {
          guard:function(){return !model.hasCoapplicant();},
          target:"ContactInfo"
        }
      ]
    },
    {
      name: "next",
      from: "CoAppRelation",
      to:[
        {
          guard:function(){return model.isCoApplicantRelationChild();},
          target:"CoAppGender"
        },
        {
          guard:function(){return !model.isCoApplicantRelationChild();},
          target:"PropertyOwnership"
        }
      ]
    },
    {
      name: "next",
      from: "PropertyOwnership",
      to:"CoAppCity"
    },
    {
      name: "next",
      from: "CoAppCity",
      to: [
        {
          guard:function(context, model) {return model.isCoAppOutsideIndia()},
          target:"CoAppResidencyStatus"

        },
        {
          guard: function() {return !model.isCoAppOutsideIndia() && !model.isOwnerShipShared()},
          target:"CoAppDOB"
        },
        {
          guard: function() {return !model.isCoAppOutsideIndia() && model.isOwnerShipShared()},
          target:"CoAppEmploymentType"
        }
      ]
    },
    {
      name: "next",
      from: "CoAppResidencyStatus",
      to: "CoAppEmploymentType"
    },
    {
      name: "next",
      from: "CoAppEmploymentType",
      to: [
        {
          guard: function() {return model.isCoAppSalaried();},
          target: "CoAppEmployment"
        },
        {
          guard: function() {return model.isCoAppSalariedProfessional()},
          target: "CoAppEmployment"
        },
        {
          guard: function() {return model.isCoAppSelfEmployedBusiness()},
          target: "CoAppProfitAfterTax"
        },
        {
          guard: function() {return model.isCoAppSelfEmployedProfessional()},
          target: "CoAppProfitAfterTax"
        },
        {
          guard: function() {return model.isCoAppStudent()},
          target: "CoAppDOB"
        },
        {
          guard: function() {return model.isRetired()},
          target: "CoAppDOB"
        },
        {
          guard: function() {return model.isHomeMaker()},
          target: "CoAppDOB"
        }
      ]
    },
    {
      name: "next",
      from: "CoAppEmployment",
      to: "CoAppWorkExperience"
    },
    {
      name: "next",
      from: "CoAppWorkExperience",
      to: "CoAppMonthlyIncome"
    },
    {
      name: "next",
      from: "CoAppMonthlyIncome",
      to: "CoAppExistingEMI"
    },
    {
      name: "next",
      from: "CoAppProfitAfterTax",
      to: "CoAppExistingEMI"
    },
    {
      name:"next",
      from:"CoAppExistingEMI",
      to:"CoAppDOB"
    },
    {
      name:"next",
      from:"CoAppDOB",
      to:"ContactInfo"
    },
    {
      name: "next",
      from: "ContactInfo",
      to:"End"
    }
  ]
}